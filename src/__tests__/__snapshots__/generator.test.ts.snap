// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`parsing grammars > parses a grammar 1`] = `
{
  "discriminator": "type",
  "externals": [
    {
      "name": "myProp1",
      "type": "property",
    },
    {
      "name": "myProp2",
      "type": "property",
    },
    {
      "name": "doSomething",
      "type": "method",
    },
    {
      "name": "doSomethingElse",
      "type": "method",
    },
    {
      "name": "myProp3",
      "type": "property",
    },
  ],
  "isUnionRef": [Function],
  "kind": "Grammar",
  "nodeDefinitions": [
    {
      "fields": [
        {
          "kind": "Field",
          "name": "x0",
          "pattern": {
            "kind": "BuiltinTS",
            "types": [
              {
                "kind": "TSNativeType",
                "typeName": "string",
              },
            ],
          },
        },
        {
          "kind": "Field",
          "name": "x1",
          "pattern": {
            "kind": "List",
            "min": 1,
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "string",
                },
              ],
            },
          },
        },
        {
          "kind": "Field",
          "name": "x2",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "string",
                },
              ],
            },
          },
        },
        {
          "kind": "Field",
          "name": "x3",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "string",
                },
              ],
            },
          },
        },
        {
          "kind": "Field",
          "name": "y0",
          "pattern": {
            "kind": "NodeRef",
            "name": "Xyz",
          },
        },
        {
          "kind": "Field",
          "name": "y1",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        {
          "kind": "Field",
          "name": "y2",
          "pattern": {
            "kind": "List",
            "min": 1,
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        {
          "kind": "Field",
          "name": "y3",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        {
          "kind": "Field",
          "name": "y4",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        {
          "kind": "Field",
          "name": "z0",
          "pattern": {
            "kind": "NodeRef",
            "name": "Pqr",
          },
        },
        {
          "kind": "Field",
          "name": "z1",
          "pattern": {
            "kind": "List",
            "min": 1,
            "of": {
              "kind": "NodeRef",
              "name": "Pqr",
            },
          },
        },
        {
          "kind": "Field",
          "name": "z2",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "NodeRef",
              "name": "Pqr",
            },
          },
        },
        {
          "kind": "Field",
          "name": "z3",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "NodeRef",
              "name": "Pqr",
            },
          },
        },
      ],
      "fieldsByName": {
        "x0": {
          "kind": "Field",
          "name": "x0",
          "pattern": {
            "kind": "BuiltinTS",
            "types": [
              {
                "kind": "TSNativeType",
                "typeName": "string",
              },
            ],
          },
        },
        "x1": {
          "kind": "Field",
          "name": "x1",
          "pattern": {
            "kind": "List",
            "min": 1,
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "string",
                },
              ],
            },
          },
        },
        "x2": {
          "kind": "Field",
          "name": "x2",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "string",
                },
              ],
            },
          },
        },
        "x3": {
          "kind": "Field",
          "name": "x3",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "string",
                },
              ],
            },
          },
        },
        "y0": {
          "kind": "Field",
          "name": "y0",
          "pattern": {
            "kind": "NodeRef",
            "name": "Xyz",
          },
        },
        "y1": {
          "kind": "Field",
          "name": "y1",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        "y2": {
          "kind": "Field",
          "name": "y2",
          "pattern": {
            "kind": "List",
            "min": 1,
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        "y3": {
          "kind": "Field",
          "name": "y3",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        "y4": {
          "kind": "Field",
          "name": "y4",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        "z0": {
          "kind": "Field",
          "name": "z0",
          "pattern": {
            "kind": "NodeRef",
            "name": "Pqr",
          },
        },
        "z1": {
          "kind": "Field",
          "name": "z1",
          "pattern": {
            "kind": "List",
            "min": 1,
            "of": {
              "kind": "NodeRef",
              "name": "Pqr",
            },
          },
        },
        "z2": {
          "kind": "Field",
          "name": "z2",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "NodeRef",
              "name": "Pqr",
            },
          },
        },
        "z3": {
          "kind": "Field",
          "name": "z3",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "NodeRef",
              "name": "Pqr",
            },
          },
        },
      },
      "kind": "NodeDef",
      "name": "Abc",
    },
    {
      "fields": [
        {
          "kind": "Field",
          "name": "p",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "number",
                },
              ],
            },
          },
        },
      ],
      "fieldsByName": {
        "p": {
          "kind": "Field",
          "name": "p",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "number",
                },
              ],
            },
          },
        },
      },
      "kind": "NodeDef",
      "name": "Pqr",
    },
    {
      "fields": [
        {
          "kind": "Field",
          "name": "s",
          "pattern": {
            "kind": "BuiltinTS",
            "types": [
              {
                "kind": "TSNativeType",
                "typeName": "number",
              },
            ],
          },
        },
        {
          "kind": "Field",
          "name": "op",
          "pattern": {
            "kind": "BuiltinTS",
            "types": [
              {
                "constant": ">",
                "kind": "TSLiteralType",
              },
              {
                "constant": "<",
                "kind": "TSLiteralType",
              },
              {
                "constant": ">=",
                "kind": "TSLiteralType",
              },
              {
                "constant": "<=",
                "kind": "TSLiteralType",
              },
            ],
          },
        },
        {
          "kind": "Field",
          "name": "version",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "constant": 1,
                  "kind": "TSLiteralType",
                },
              ],
            },
          },
        },
        {
          "kind": "Field",
          "name": "bits",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "constant": 0,
                  "kind": "TSLiteralType",
                },
                {
                  "constant": 1,
                  "kind": "TSLiteralType",
                },
              ],
            },
          },
        },
      ],
      "fieldsByName": {
        "bits": {
          "kind": "Field",
          "name": "bits",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "constant": 0,
                  "kind": "TSLiteralType",
                },
                {
                  "constant": 1,
                  "kind": "TSLiteralType",
                },
              ],
            },
          },
        },
        "op": {
          "kind": "Field",
          "name": "op",
          "pattern": {
            "kind": "BuiltinTS",
            "types": [
              {
                "constant": ">",
                "kind": "TSLiteralType",
              },
              {
                "constant": "<",
                "kind": "TSLiteralType",
              },
              {
                "constant": ">=",
                "kind": "TSLiteralType",
              },
              {
                "constant": "<=",
                "kind": "TSLiteralType",
              },
            ],
          },
        },
        "s": {
          "kind": "Field",
          "name": "s",
          "pattern": {
            "kind": "BuiltinTS",
            "types": [
              {
                "kind": "TSNativeType",
                "typeName": "number",
              },
            ],
          },
        },
        "version": {
          "kind": "Field",
          "name": "version",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "constant": 1,
                  "kind": "TSLiteralType",
                },
              ],
            },
          },
        },
      },
      "kind": "NodeDef",
      "name": "Stu",
    },
  ],
  "nodeDefsByName": {
    "Abc": {
      "fields": [
        {
          "kind": "Field",
          "name": "x0",
          "pattern": {
            "kind": "BuiltinTS",
            "types": [
              {
                "kind": "TSNativeType",
                "typeName": "string",
              },
            ],
          },
        },
        {
          "kind": "Field",
          "name": "x1",
          "pattern": {
            "kind": "List",
            "min": 1,
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "string",
                },
              ],
            },
          },
        },
        {
          "kind": "Field",
          "name": "x2",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "string",
                },
              ],
            },
          },
        },
        {
          "kind": "Field",
          "name": "x3",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "string",
                },
              ],
            },
          },
        },
        {
          "kind": "Field",
          "name": "y0",
          "pattern": {
            "kind": "NodeRef",
            "name": "Xyz",
          },
        },
        {
          "kind": "Field",
          "name": "y1",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        {
          "kind": "Field",
          "name": "y2",
          "pattern": {
            "kind": "List",
            "min": 1,
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        {
          "kind": "Field",
          "name": "y3",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        {
          "kind": "Field",
          "name": "y4",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        {
          "kind": "Field",
          "name": "z0",
          "pattern": {
            "kind": "NodeRef",
            "name": "Pqr",
          },
        },
        {
          "kind": "Field",
          "name": "z1",
          "pattern": {
            "kind": "List",
            "min": 1,
            "of": {
              "kind": "NodeRef",
              "name": "Pqr",
            },
          },
        },
        {
          "kind": "Field",
          "name": "z2",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "NodeRef",
              "name": "Pqr",
            },
          },
        },
        {
          "kind": "Field",
          "name": "z3",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "NodeRef",
              "name": "Pqr",
            },
          },
        },
      ],
      "fieldsByName": {
        "x0": {
          "kind": "Field",
          "name": "x0",
          "pattern": {
            "kind": "BuiltinTS",
            "types": [
              {
                "kind": "TSNativeType",
                "typeName": "string",
              },
            ],
          },
        },
        "x1": {
          "kind": "Field",
          "name": "x1",
          "pattern": {
            "kind": "List",
            "min": 1,
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "string",
                },
              ],
            },
          },
        },
        "x2": {
          "kind": "Field",
          "name": "x2",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "string",
                },
              ],
            },
          },
        },
        "x3": {
          "kind": "Field",
          "name": "x3",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "string",
                },
              ],
            },
          },
        },
        "y0": {
          "kind": "Field",
          "name": "y0",
          "pattern": {
            "kind": "NodeRef",
            "name": "Xyz",
          },
        },
        "y1": {
          "kind": "Field",
          "name": "y1",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        "y2": {
          "kind": "Field",
          "name": "y2",
          "pattern": {
            "kind": "List",
            "min": 1,
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        "y3": {
          "kind": "Field",
          "name": "y3",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        "y4": {
          "kind": "Field",
          "name": "y4",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "NodeRef",
              "name": "Xyz",
            },
          },
        },
        "z0": {
          "kind": "Field",
          "name": "z0",
          "pattern": {
            "kind": "NodeRef",
            "name": "Pqr",
          },
        },
        "z1": {
          "kind": "Field",
          "name": "z1",
          "pattern": {
            "kind": "List",
            "min": 1,
            "of": {
              "kind": "NodeRef",
              "name": "Pqr",
            },
          },
        },
        "z2": {
          "kind": "Field",
          "name": "z2",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "NodeRef",
              "name": "Pqr",
            },
          },
        },
        "z3": {
          "kind": "Field",
          "name": "z3",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "NodeRef",
              "name": "Pqr",
            },
          },
        },
      },
      "kind": "NodeDef",
      "name": "Abc",
    },
    "Pqr": {
      "fields": [
        {
          "kind": "Field",
          "name": "p",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "number",
                },
              ],
            },
          },
        },
      ],
      "fieldsByName": {
        "p": {
          "kind": "Field",
          "name": "p",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "kind": "TSNativeType",
                  "typeName": "number",
                },
              ],
            },
          },
        },
      },
      "kind": "NodeDef",
      "name": "Pqr",
    },
    "Stu": {
      "fields": [
        {
          "kind": "Field",
          "name": "s",
          "pattern": {
            "kind": "BuiltinTS",
            "types": [
              {
                "kind": "TSNativeType",
                "typeName": "number",
              },
            ],
          },
        },
        {
          "kind": "Field",
          "name": "op",
          "pattern": {
            "kind": "BuiltinTS",
            "types": [
              {
                "constant": ">",
                "kind": "TSLiteralType",
              },
              {
                "constant": "<",
                "kind": "TSLiteralType",
              },
              {
                "constant": ">=",
                "kind": "TSLiteralType",
              },
              {
                "constant": "<=",
                "kind": "TSLiteralType",
              },
            ],
          },
        },
        {
          "kind": "Field",
          "name": "version",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "constant": 1,
                  "kind": "TSLiteralType",
                },
              ],
            },
          },
        },
        {
          "kind": "Field",
          "name": "bits",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "constant": 0,
                  "kind": "TSLiteralType",
                },
                {
                  "constant": 1,
                  "kind": "TSLiteralType",
                },
              ],
            },
          },
        },
      ],
      "fieldsByName": {
        "bits": {
          "kind": "Field",
          "name": "bits",
          "pattern": {
            "kind": "List",
            "min": 0,
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "constant": 0,
                  "kind": "TSLiteralType",
                },
                {
                  "constant": 1,
                  "kind": "TSLiteralType",
                },
              ],
            },
          },
        },
        "op": {
          "kind": "Field",
          "name": "op",
          "pattern": {
            "kind": "BuiltinTS",
            "types": [
              {
                "constant": ">",
                "kind": "TSLiteralType",
              },
              {
                "constant": "<",
                "kind": "TSLiteralType",
              },
              {
                "constant": ">=",
                "kind": "TSLiteralType",
              },
              {
                "constant": "<=",
                "kind": "TSLiteralType",
              },
            ],
          },
        },
        "s": {
          "kind": "Field",
          "name": "s",
          "pattern": {
            "kind": "BuiltinTS",
            "types": [
              {
                "kind": "TSNativeType",
                "typeName": "number",
              },
            ],
          },
        },
        "version": {
          "kind": "Field",
          "name": "version",
          "pattern": {
            "kind": "Optional",
            "of": {
              "kind": "BuiltinTS",
              "types": [
                {
                  "constant": 1,
                  "kind": "TSLiteralType",
                },
              ],
            },
          },
        },
      },
      "kind": "NodeDef",
      "name": "Stu",
    },
  },
  "startNode": "Abc",
  "unionDefinitions": [
    {
      "kind": "UnionDef",
      "members": [
        {
          "kind": "NodeRef",
          "name": "Pqr",
        },
        {
          "kind": "NodeRef",
          "name": "Stu",
        },
      ],
      "name": "Xyz",
    },
  ],
  "unionDefsByName": {
    "Xyz": {
      "kind": "UnionDef",
      "members": [
        {
          "kind": "NodeRef",
          "name": "Pqr",
        },
        {
          "kind": "NodeRef",
          "name": "Stu",
        },
      ],
      "name": "Xyz",
    },
  },
}
`;
